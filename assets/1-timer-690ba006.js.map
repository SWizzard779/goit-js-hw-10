{"version":3,"file":"1-timer-690ba006.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = null;\nlet timerInterval = null;\nconst button = document.querySelector(\"button\")\nconst calendar= document.querySelector(\"#datetime-picker\")\nconst spanText = document.querySelectorAll(\".value\")\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      const selectedDate = selectedDates[0];\n    userSelectedDate = selectedDates[0];\n    \n    if (selectedDate >= options.defaultDate) {\n        userSelectedDate = selectedDate;\n        button.disabled = false;\n    }else{\n        button.disabled = true;\n        iziToast.error({\n            title: 'Error',\n            position: 'center',\n            message: `Please choose a date in the future`\n        });\n        \n    }\n    },\n};\n\nflatpickr(calendar, options);\n\nconst formatTime = milliseconds => {\n    const seconds = Math.floor((milliseconds / 1000) % 60);\n    const minutes = Math.floor((milliseconds / 1000 / 60) % 60);\n    const hours = Math.floor((milliseconds / 1000 / 60 / 60) % 24);\n    const days = Math.floor(milliseconds/1000/60/60/24)\n  \n    return [\n      hours.toString().padStart(2, '0'),\n      minutes.toString().padStart(2, '0'),\n      seconds.toString().padStart(2, '0'),\n      days.toString().padStart(2, '0')\n    ].join(':');\n};\n\nbutton.addEventListener('click', (event) => {\n    event.preventDefault();\n\n    if(timerInterval) clearInterval(timerInterval)\n\n    calendar.flatpickr().set('disable', [function(date){\n        return true;\n    }])\n    button.disabled = true;\n\n\n    timerInterval = setInterval(() => {\n        const now = new Date()\n        const diff = userSelectedDate - now;\n\n    if(diff <=0) {\n        clearInterval(timerInterval)\n        spanText[0].textContent = '00'\n        spanText[1].textContent = '00'\n        spanText[2].textContent = '00'\n        spanText[3].textContent = '00'\n}else {\n    const time = formatTime(diff)\n    let [hours, minutes, seconds, days] = time.split(':').map(t => t.padStart(2, '0'));\n            spanText[0].textContent = days;\n            spanText[1].textContent = hours;\n            spanText[2].textContent = minutes;\n            spanText[3].textContent = seconds;\n        }\n    }, 1000);\n})\n\n"],"names":["userSelectedDate","timerInterval","button","calendar","spanText","options","selectedDates","selectedDate","iziToast","flatpickr","formatTime","milliseconds","seconds","minutes","hours","days","event","date","diff","time","t"],"mappings":"gDAOA,IAAIA,EAAmB,KACnBC,EAAgB,KACpB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAW,SAAS,iBAAiB,QAAQ,EAE7CC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAeD,EAAc,CAAC,EACtCN,EAAmBM,EAAc,CAAC,EAE9BC,GAAgBF,EAAQ,aACxBL,EAAmBO,EACnBL,EAAO,SAAW,KAElBA,EAAO,SAAW,GAClBM,EAAS,MAAM,CACX,MAAO,QACP,SAAU,SACV,QAAS,oCACrB,CAAS,EAGJ,CACL,EAEAC,EAAUN,EAAUE,CAAO,EAE3B,MAAMK,EAAaC,GAAgB,CAC/B,MAAMC,EAAU,KAAK,MAAOD,EAAe,IAAQ,EAAE,EAC/CE,EAAU,KAAK,MAAOF,EAAe,IAAO,GAAM,EAAE,EACpDG,EAAQ,KAAK,MAAOH,EAAe,IAAO,GAAK,GAAM,EAAE,EACvDI,EAAO,KAAK,MAAMJ,EAAa,IAAK,GAAG,GAAG,EAAE,EAElD,MAAO,CACLG,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAChCD,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAClCD,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAClCG,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,CACrC,EAAM,KAAK,GAAG,CACd,EAEAb,EAAO,iBAAiB,QAAUc,GAAU,CACxCA,EAAM,eAAc,EAEjBf,GAAe,cAAcA,CAAa,EAE7CE,EAAS,UAAS,EAAG,IAAI,UAAW,CAAC,SAASc,EAAK,CAC/C,MAAO,EACf,CAAK,CAAC,EACFf,EAAO,SAAW,GAGlBD,EAAgB,YAAY,IAAM,CAE9B,MAAMiB,EAAOlB,EADD,IAAI,KAGpB,GAAGkB,GAAO,EACN,cAAcjB,CAAa,EAC3BG,EAAS,CAAC,EAAE,YAAc,KAC1BA,EAAS,CAAC,EAAE,YAAc,KAC1BA,EAAS,CAAC,EAAE,YAAc,KAC1BA,EAAS,CAAC,EAAE,YAAc,SAC5B,CACF,MAAMe,EAAOT,EAAWQ,CAAI,EAC5B,GAAI,CAACJ,EAAOD,EAASD,EAASG,CAAI,EAAII,EAAK,MAAM,GAAG,EAAE,IAAIC,GAAKA,EAAE,SAAS,EAAG,GAAG,CAAC,EACzEhB,EAAS,CAAC,EAAE,YAAcW,EAC1BX,EAAS,CAAC,EAAE,YAAcU,EAC1BV,EAAS,CAAC,EAAE,YAAcS,EAC1BT,EAAS,CAAC,EAAE,YAAcQ,CAC7B,CACJ,EAAE,GAAI,CACX,CAAC"}